(function(o){o.color={};o.color.make=function(e,t,i,n){var r={};r.r=e||0;r.g=t||0;r.b=i||0;r.a=n!=null?n:1;r.add=function(e,t){for(var i=0;i<e.length;++i)r[e.charAt(i)]+=t;return r.normalize()};r.scale=function(e,t){for(var i=0;i<e.length;++i)r[e.charAt(i)]*=t;return r.normalize()};r.toString=function(){if(r.a>=1){return"rgb("+[r.r,r.g,r.b].join(",")+")"}else{return"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"}};r.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}r.r=e(0,parseInt(r.r),255);r.g=e(0,parseInt(r.g),255);r.b=e(0,parseInt(r.b),255);r.a=e(0,r.a,1);return r};r.clone=function(){return o.color.make(r.r,r.b,r.g,r.a)};return r.normalize()};o.color.extract=function(e,t){var i;do{i=e.css(t).toLowerCase();if(i!=""&&i!="transparent")break;e=e.parent()}while(e.length&&!o.nodeName(e.get(0),"body"));if(i=="rgba(0, 0, 0, 0)")i="transparent";return o.color.parse(i)};o.color.parse=function(e){var t,i=o.color.make;if(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return i(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10));if(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return i(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4]));if(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return i(parseFloat(t[1])*2.55,parseFloat(t[2])*2.55,parseFloat(t[3])*2.55);if(t=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(e))return i(parseFloat(t[1])*2.55,parseFloat(t[2])*2.55,parseFloat(t[3])*2.55,parseFloat(t[4]));if(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return i(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16));if(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return i(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16));var n=o.trim(e).toLowerCase();if(n=="transparent")return i(255,255,255,0);else{t=r[n]||[0,0,0];return i(t[0],t[1],t[2])}};var r={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(me){var d=Object.prototype.hasOwnProperty;function ve(e,t){var i=t.children("."+e)[0];if(i==null){i=document.createElement("canvas");i.className=e;me(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(t);if(!i.getContext){if(window.G_vmlCanvasManager){i=window.G_vmlCanvasManager.initElement(i)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=i;var n=this.context=i.getContext("2d");var r=window.devicePixelRatio||1,o=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=r/o;this.resize(t.width(),t.height());this.textContainer=null;this.text={};this._textCache={}}ve.prototype.resize=function(e,t){if(e<=0||t<=0){throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t)}var i=this.element,n=this.context,r=this.pixelRatio;if(this.width!=e){i.width=e*r;i.style.width=e+"px";this.width=e}if(this.height!=t){i.height=t*r;i.style.height=t+"px";this.height=t}n.restore();n.save();n.scale(r,r)};ve.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};ve.prototype.render=function(){var e=this._textCache;for(var t in e){if(d.call(e,t)){var i=this.getTextLayer(t),n=e[t];i.hide();for(var r in n){if(d.call(n,r)){var o=n[r];for(var a in o){if(d.call(o,a)){var l=o[a].positions;for(var s=0,f;f=l[s];s++){if(f.active){if(!f.rendered){i.append(f.element);f.rendered=true}}else{l.splice(s--,1);if(f.rendered){f.element.detach()}}}if(l.length==0){delete o[a]}}}}}i.show()}}};ve.prototype.getTextLayer=function(e){var t=this.text[e];if(t==null){if(this.textContainer==null){this.textContainer=me("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}t=this.text[e]=me("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return t};ve.prototype.getTextInfo=function(e,t,i,n,r){var o,a,l,s;t=""+t;if(typeof i==="object"){o=i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family}else{o=i}a=this._textCache[e];if(a==null){a=this._textCache[e]={}}l=a[o];if(l==null){l=a[o]={}}s=l[t];if(s==null){var f=me("<div></div>").html(t).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(e));if(typeof i==="object"){f.css({font:o,color:i.color})}else if(typeof i==="string"){f.addClass(i)}s=l[t]={width:f.outerWidth(true),height:f.outerHeight(true),element:f,positions:[]};f.detach()}return s};ve.prototype.addText=function(e,t,i,n,r,o,a,l,s){var f=this.getTextInfo(e,n,r,o,a),c=f.positions;if(l=="center"){t-=f.width/2}else if(l=="right"){t-=f.width}if(s=="middle"){i-=f.height/2}else if(s=="bottom"){i-=f.height}for(var u=0,h;h=c[u];u++){if(h.x==t&&h.y==i){h.active=true;return}}h={active:true,rendered:false,element:c.length?f.element.clone():f.element,x:t,y:i};c.push(h);h.element.css({top:Math.round(i),left:Math.round(t),"text-align":l})};ve.prototype.removeText=function(e,t,i,n,r,o){if(n==null){var a=this._textCache[e];if(a!=null){for(var l in a){if(d.call(a,l)){var s=a[l];for(var f in s){if(d.call(s,f)){var c=s[f].positions;for(var u=0,h;h=c[u];u++){h.active=false}}}}}}}else{var c=this.getTextInfo(e,n,r,o).positions;for(var u=0,h;h=c[u];u++){if(h.x==t&&h.y==i){h.active=false}}}};function r(m,e,t,n){var P=[],z={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},d=null,i=null,c=null,x=null,f=null,p=[],g=[],v={left:0,right:0,top:0,bottom:0},b=0,k=0,A={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;y.setData=a;y.setupGrid=L;y.draw=B;y.getPlaceholder=function(){return m};y.getCanvas=function(){return d.element};y.getPlotOffset=function(){return v};y.width=function(){return b};y.height=function(){return k};y.offset=function(){var e=c.offset();e.left+=v.left;e.top+=v.top;return e};y.getData=function(){return P};y.getAxes=function(){var i={},e;me.each(p.concat(g),function(e,t){if(t)i[t.direction+(t.n!=1?t.n:"")+"axis"]=t});return i};y.getXAxes=function(){return p};y.getYAxes=function(){return g};y.c2p=u;y.p2c=s;y.getOptions=function(){return z};y.highlight=ce;y.unhighlight=ue;y.triggerRedrawOverlay=se;y.pointOffset=function(e){return{left:parseInt(p[w(e,"x")-1].p2c(+e.x)+v.left,10),top:parseInt(g[w(e,"y")-1].p2c(+e.y)+v.top,10)}};y.shutdown=O;y.destroy=function(){O();m.removeData("plot").empty();P=[];z=null;d=null;i=null;c=null;x=null;f=null;p=[];g=[];A=null;te=[];y=null};y.resize=function(){var e=m.width(),t=m.height();d.resize(e,t);i.resize(e,t)};y.hooks=A;r(y);o(t);S();a(e);L();B();C();function I(e,t){t=[y].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function r(){var e={Canvas:ve};for(var t=0;t<n.length;++t){var i=n[t];i.init(y,e);if(i.options)me.extend(true,z,i.options)}}function o(e){me.extend(true,z,e);if(e&&e.colors){z.colors=e.colors}if(z.xaxis.color==null)z.xaxis.color=me.color.parse(z.grid.color).scale("a",.22).toString();if(z.yaxis.color==null)z.yaxis.color=me.color.parse(z.grid.color).scale("a",.22).toString();if(z.xaxis.tickColor==null)z.xaxis.tickColor=z.grid.tickColor||z.xaxis.color;if(z.yaxis.tickColor==null)z.yaxis.tickColor=z.grid.tickColor||z.yaxis.color;if(z.grid.borderColor==null)z.grid.borderColor=z.grid.color;if(z.grid.tickColor==null)z.grid.tickColor=me.color.parse(z.grid.color).scale("a",.22).toString();var t,i,n,r=m.css("font-size"),o=r?+r.replace("px",""):13,a={style:m.css("font-style"),size:Math.round(.8*o),variant:m.css("font-variant"),weight:m.css("font-weight"),family:m.css("font-family")};n=z.xaxes.length||1;for(t=0;t<n;++t){i=z.xaxes[t];if(i&&!i.tickColor){i.tickColor=i.color}i=me.extend(true,{},z.xaxis,i);z.xaxes[t]=i;if(i.font){i.font=me.extend({},a,i.font);if(!i.font.color){i.font.color=i.color}if(!i.font.lineHeight){i.font.lineHeight=Math.round(i.font.size*1.15)}}}n=z.yaxes.length||1;for(t=0;t<n;++t){i=z.yaxes[t];if(i&&!i.tickColor){i.tickColor=i.color}i=me.extend(true,{},z.yaxis,i);z.yaxes[t]=i;if(i.font){i.font=me.extend({},a,i.font);if(!i.font.color){i.font.color=i.color}if(!i.font.lineHeight){i.font.lineHeight=Math.round(i.font.size*1.15)}}}if(z.xaxis.noTicks&&z.xaxis.ticks==null)z.xaxis.ticks=z.xaxis.noTicks;if(z.yaxis.noTicks&&z.yaxis.ticks==null)z.yaxis.ticks=z.yaxis.noTicks;if(z.x2axis){z.xaxes[1]=me.extend(true,{},z.xaxis,z.x2axis);z.xaxes[1].position="top"}if(z.y2axis){z.yaxes[1]=me.extend(true,{},z.yaxis,z.y2axis);z.yaxes[1].position="right"}if(z.grid.coloredAreas)z.grid.markings=z.grid.coloredAreas;if(z.grid.coloredAreasColor)z.grid.markingsColor=z.grid.coloredAreasColor;if(z.lines)me.extend(true,z.series.lines,z.lines);if(z.points)me.extend(true,z.series.points,z.points);if(z.bars)me.extend(true,z.series.bars,z.bars);if(z.shadowSize!=null)z.series.shadowSize=z.shadowSize;if(z.highlightColor!=null)z.series.highlightColor=z.highlightColor;for(t=0;t<z.xaxes.length;++t)M(p,t+1).options=z.xaxes[t];for(t=0;t<z.yaxes.length;++t)M(g,t+1).options=z.yaxes[t];for(var l in A)if(z.hooks[l]&&z.hooks[l].length)A[l]=A[l].concat(z.hooks[l]);I(A.processOptions,[z])}function a(e){P=l(e);h();T()}function l(e){var t=[];for(var i=0;i<e.length;++i){var n=me.extend(true,{},z.series);if(e[i].data!=null){n.data=e[i].data;delete e[i].data;me.extend(true,n,e[i]);e[i].data=n.data}else n.data=e[i];t.push(n)}return t}function w(e,t){var i=e[t+"axis"];if(typeof i=="object")i=i.n;if(typeof i!="number")i=1;return i}function W(){return me.grep(p.concat(g),function(e){return e})}function u(e){var t={},i,n;for(i=0;i<p.length;++i){n=p[i];if(n&&n.used)t["x"+n.n]=n.c2p(e.left)}for(i=0;i<g.length;++i){n=g[i];if(n&&n.used)t["y"+n.n]=n.c2p(e.top)}if(t.x1!==undefined)t.x=t.x1;if(t.y1!==undefined)t.y=t.y1;return t}function s(e){var t={},i,n,r;for(i=0;i<p.length;++i){n=p[i];if(n&&n.used){r="x"+n.n;if(e[r]==null&&n.n==1)r="x";if(e[r]!=null){t.left=n.p2c(e[r]);break}}}for(i=0;i<g.length;++i){n=g[i];if(n&&n.used){r="y"+n.n;if(e[r]==null&&n.n==1)r="y";if(e[r]!=null){t.top=n.p2c(e[r]);break}}}return t}function M(e,t){if(!e[t-1])e[t-1]={n:t,direction:e==p?"x":"y",options:me.extend(true,{},e==p?z.xaxis:z.yaxis)};return e[t-1]}function h(){var e=P.length,t=-1,i;for(i=0;i<P.length;++i){var n=P[i].color;if(n!=null){e--;if(typeof n=="number"&&n>t){t=n}}}if(e<=t){e=t+1}var r,o=[],a=z.colors,l=a.length,s=0;for(i=0;i<e;i++){r=me.color.parse(a[i%l]||"#666");if(i%l==0&&i){if(s>=0){if(s<.5){s=-s-.2}else s=0}else s=-s}o[i]=r.scale("rgb",1+s)}var f=0,c;for(i=0;i<P.length;++i){c=P[i];if(c.color==null){c.color=o[f].toString();++f}else if(typeof c.color=="number")c.color=o[c.color].toString();if(c.lines.show==null){var u,h=true;for(u in c)if(c[u]&&c[u].show){h=false;break}if(h)c.lines.show=true}if(c.lines.zero==null){c.lines.zero=!!c.lines.fill}c.xaxis=M(p,w(c,"x"));c.yaxis=M(g,w(c,"y"))}}function T(){var i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.MAX_VALUE,e,t,o,a,l,s,f,c,u,h,d,p,g,m,v,x;function b(e,t,i){if(t<e.datamin&&t!=-r)e.datamin=t;if(i>e.datamax&&i!=r)e.datamax=i}me.each(W(),function(e,t){t.datamin=i;t.datamax=n;t.used=false});for(e=0;e<P.length;++e){s=P[e];s.datapoints={points:[]};I(A.processRawData,[s,s.data,s.datapoints])}for(e=0;e<P.length;++e){s=P[e];v=s.data;x=s.datapoints.format;if(!x){x=[];x.push({x:true,number:true,required:true});x.push({y:true,number:true,required:true});if(s.bars.show||s.lines.show&&s.lines.fill){var k=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);x.push({y:true,number:true,required:false,defaultValue:0,autoscale:k});if(s.bars.horizontal){delete x[x.length-1].y;x[x.length-1].x=true}}s.datapoints.format=x}if(s.datapoints.pointsize!=null)continue;s.datapoints.pointsize=x.length;c=s.datapoints.pointsize;f=s.datapoints.points;var y=s.lines.show&&s.lines.steps;s.xaxis.used=s.yaxis.used=true;for(t=o=0;t<v.length;++t,o+=c){m=v[t];var w=m==null;if(!w){for(a=0;a<c;++a){p=m[a];g=x[a];if(g){if(g.number&&p!=null){p=+p;if(isNaN(p))p=null;else if(p==Infinity)p=r;else if(p==-Infinity)p=-r}if(p==null){if(g.required)w=true;if(g.defaultValue!=null)p=g.defaultValue}}f[o+a]=p}}if(w){for(a=0;a<c;++a){p=f[o+a];if(p!=null){g=x[a];if(g.autoscale!==false){if(g.x){b(s.xaxis,p,p)}if(g.y){b(s.yaxis,p,p)}}}f[o+a]=null}}else{if(y&&o>0&&f[o-c]!=null&&f[o-c]!=f[o]&&f[o-c+1]!=f[o+1]){for(a=0;a<c;++a)f[o+c+a]=f[o+a];f[o+1]=f[o-c+1];o+=c}}}}for(e=0;e<P.length;++e){s=P[e];I(A.processDatapoints,[s,s.datapoints])}for(e=0;e<P.length;++e){s=P[e];f=s.datapoints.points;c=s.datapoints.pointsize;x=s.datapoints.format;var M=i,T=i,S=n,z=n;for(t=0;t<f.length;t+=c){if(f[t]==null)continue;for(a=0;a<c;++a){p=f[t+a];g=x[a];if(!g||g.autoscale===false||p==r||p==-r)continue;if(g.x){if(p<M)M=p;if(p>S)S=p}if(g.y){if(p<T)T=p;if(p>z)z=p}}}if(s.bars.show){var C;switch(s.bars.align){case"left":C=0;break;case"right":C=-s.bars.barWidth;break;default:C=-s.bars.barWidth/2}if(s.bars.horizontal){T+=C;z+=C+s.bars.barWidth}else{M+=C;S+=C+s.bars.barWidth}}b(s.xaxis,M,S);b(s.yaxis,T,z)}me.each(W(),function(e,t){if(t.datamin==i)t.datamin=null;if(t.datamax==n)t.datamax=null})}function S(){m.css("padding",0).children().filter(function(){return!me(this).hasClass("flot-overlay")&&!me(this).hasClass("flot-base")}).remove();if(m.css("position")=="static")m.css("position","relative");d=new ve("flot-base",m);i=new ve("flot-overlay",m);x=d.context;f=i.context;c=me(i.element).unbind();var e=m.data("plot");if(e){e.shutdown();i.clear()}m.data("plot",y)}function C(){if(z.grid.hoverable){c.mousemove(re);c.bind("mouseleave",oe)}if(z.grid.clickable)c.click(ae);I(A.bindEvents,[c])}function O(){if(ie)clearTimeout(ie);c.unbind("mousemove",re);c.unbind("mouseleave",oe);c.unbind("click",ae);I(A.shutdown,[c])}function D(e){function t(e){return e}var i,n,r=e.options.transform||t,o=e.options.inverseTransform;if(e.direction=="x"){i=e.scale=b/Math.abs(r(e.max)-r(e.min));n=Math.min(r(e.max),r(e.min))}else{i=e.scale=k/Math.abs(r(e.max)-r(e.min));i=-i;n=Math.max(r(e.max),r(e.min))}if(r==t)e.p2c=function(e){return(e-n)*i};else e.p2c=function(e){return(r(e)-n)*i};if(!o)e.c2p=function(e){return n+e/i};else e.c2p=function(e){return o(n+e/i)}}function F(e){var t=e.options,i=e.ticks||[],n=t.labelWidth||0,r=t.labelHeight||0,o=n||(e.direction=="x"?Math.floor(d.width/(i.length||1)):null),a=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,s=t.font||"flot-tick-label tickLabel";for(var f=0;f<i.length;++f){var c=i[f];if(!c.label)continue;var u=d.getTextInfo(l,c.label,s,null,o);n=Math.max(n,u.width);r=Math.max(r,u.height)}e.labelWidth=t.labelWidth||n;e.labelHeight=t.labelHeight||r}function N(i){var e=i.labelWidth,t=i.labelHeight,n=i.options.position,r=i.direction==="x",o=i.options.tickLength,a=z.grid.axisMargin,l=z.grid.labelMargin,s=true,f=true,c=true,u=false;me.each(r?p:g,function(e,t){if(t&&t.reserveSpace){if(t===i){u=true}else if(t.options.position===n){if(u){f=false}else{s=false}}if(!u){c=false}}});if(f){a=0}if(o==null){o=c?"full":5}if(!isNaN(+o))l+=+o;if(r){t+=l;if(n=="bottom"){v.bottom+=t+a;i.box={top:d.height-v.bottom,height:t}}else{i.box={top:v.top+a,height:t};v.top+=t+a}}else{e+=l;if(n=="left"){i.box={left:v.left+a,width:e};v.left+=e+a}else{v.right+=e+a;i.box={left:d.width-v.right,width:e}}}i.position=n;i.tickLength=o;i.box.padding=l;i.innermost=s}function R(e){if(e.direction=="x"){e.box.left=v.left-e.labelWidth/2;e.box.width=d.width-v.left-v.right+e.labelWidth}else{e.box.top=v.top-e.labelHeight/2;e.box.height=d.height-v.bottom-v.top+e.labelHeight}}function H(){var e=z.grid.minBorderMargin,t,i;if(e==null){e=0;for(i=0;i<P.length;++i)e=Math.max(e,2*(P[i].points.radius+P[i].points.lineWidth/2))}var n={left:e,right:e,top:e,bottom:e};me.each(W(),function(e,t){if(t.reserveSpace&&t.ticks&&t.ticks.length){var i=t.ticks[t.ticks.length-1];if(t.direction==="x"){n.left=Math.max(n.left,t.labelWidth/2);if(i.v<=t.max){n.right=Math.max(n.right,t.labelWidth/2)}}else{n.bottom=Math.max(n.bottom,t.labelHeight/2);if(i.v<=t.max){n.top=Math.max(n.top,t.labelHeight/2)}}}});v.left=Math.ceil(Math.max(n.left,v.left));v.right=Math.ceil(Math.max(n.right,v.right));v.top=Math.ceil(Math.max(n.top,v.top));v.bottom=Math.ceil(Math.max(n.bottom,v.bottom))}function L(){var e,t=W(),i=z.grid.show;for(var n in v){var r=z.grid.margin||0;v[n]=typeof r=="number"?r:r[n]||0}I(A.processOffset,[v]);for(var n in v){if(typeof z.grid.borderWidth=="object"){v[n]+=i?z.grid.borderWidth[n]:0}else{v[n]+=i?z.grid.borderWidth:0}}me.each(t,function(e,t){t.show=t.options.show;if(t.show==null)t.show=t.used;t.reserveSpace=t.show||t.options.reserveSpace;q(t)});if(i){var o=me.grep(t,function(e){return e.reserveSpace});me.each(o,function(e,t){Y(t);j(t);E(t,t.ticks);F(t)});for(e=o.length-1;e>=0;--e)N(o[e]);H();me.each(o,function(e,t){R(t)})}b=d.width-v.left-v.right;k=d.height-v.bottom-v.top;me.each(t,function(e,t){D(t)});if(i){Q()}ee()}function q(e){var t=e.options,i=+(t.min!=null?t.min:e.datamin),n=+(t.max!=null?t.max:e.datamax),r=n-i;if(r==0){var o=n==0?1:.01;if(t.min==null)i-=o;if(t.max==null||t.min!=null)n+=o}else{var a=t.autoscaleMargin;if(a!=null){if(t.min==null){i-=r*a;if(i<0&&e.datamin!=null&&e.datamin>=0)i=0}if(t.max==null){n+=r*a;if(n>0&&e.datamax!=null&&e.datamax<=0)n=0}}}e.min=i;e.max=n}function Y(e){var i=e.options;var t;if(typeof i.ticks=="number"&&i.ticks>0)t=i.ticks;else t=.3*Math.sqrt(e.direction=="x"?d.width:d.height);var n=(e.max-e.min)/t,r=-Math.floor(Math.log(n)/Math.LN10),o=i.tickDecimals;if(o!=null&&r>o){r=o}var a=Math.pow(10,-r),l=n/a,s;if(l<1.5){s=1}else if(l<3){s=2;if(l>2.25&&(o==null||r+1<=o)){s=2.5;++r}}else if(l<7.5){s=5}else{s=10}s*=a;if(i.minTickSize!=null&&s<i.minTickSize){s=i.minTickSize}e.delta=n;e.tickDecimals=Math.max(0,o!=null?o:r);e.tickSize=i.tickSize||s;if(i.mode=="time"&&!e.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!e.tickGenerator){e.tickGenerator=function(e){var t=[],i=xe(e.min,e.tickSize),n=0,r=Number.NaN,o;do{o=r;r=i+n*e.tickSize;t.push(r);++n}while(r<e.max&&r!=o);return t};e.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1;var n=""+Math.round(e*i)/i;if(t.tickDecimals!=null){var r=n.indexOf(".");var o=r==-1?0:n.length-r-1;if(o<t.tickDecimals){return(o?n:n+".")+(""+i).substr(1,t.tickDecimals-o)}}return n}}if(me.isFunction(i.tickFormatter))e.tickFormatter=function(e,t){return""+i.tickFormatter(e,t)};if(i.alignTicksWithAxis!=null){var f=(e.direction=="x"?p:g)[i.alignTicksWithAxis-1];if(f&&f.used&&f!=e){var c=e.tickGenerator(e);if(c.length>0){if(i.min==null)e.min=Math.min(e.min,c[0]);if(i.max==null&&c.length>1)e.max=Math.max(e.max,c[c.length-1])}e.tickGenerator=function(e){var t=[],i,n;for(n=0;n<f.ticks.length;++n){i=(f.ticks[n].v-f.min)/(f.max-f.min);i=e.min+i*(e.max-e.min);t.push(i)}return t};if(!e.mode&&i.tickDecimals==null){var u=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),h=e.tickGenerator(e);if(!(h.length>1&&/\..*0$/.test((h[1]-h[0]).toFixed(u))))e.tickDecimals=u}}}}function j(e){var t=e.options.ticks,i=[];if(t==null||typeof t=="number"&&t>0)i=e.tickGenerator(e);else if(t){if(me.isFunction(t))i=t(e);else i=t}var n,r;e.ticks=[];for(n=0;n<i.length;++n){var o=null;var a=i[n];if(typeof a=="object"){r=+a[0];if(a.length>1)o=a[1]}else r=+a;if(o==null)o=e.tickFormatter(r,e);if(!isNaN(r))e.ticks.push({v:r,label:o})}}function E(e,t){if(e.options.autoscaleMargin&&t.length>0){if(e.options.min==null)e.min=Math.min(e.min,t[0].v);if(e.options.max==null&&t.length>1)e.max=Math.max(e.max,t[t.length-1].v)}}function B(){d.clear();I(A.drawBackground,[x]);var e=z.grid;if(e.show&&e.backgroundColor)G();if(e.show&&!e.aboveData){_()}for(var t=0;t<P.length;++t){I(A.drawSeries,[x,P[t]]);J(P[t])}I(A.draw,[x]);if(e.show&&e.aboveData){_()}d.render();se()}function X(e,t){var i,n,r,o,a=W();for(var l=0;l<a.length;++l){i=a[l];if(i.direction==t){o=t+i.n+"axis";if(!e[o]&&i.n==1)o=t+"axis";if(e[o]){n=e[o].from;r=e[o].to;break}}}if(!e[o]){i=t=="x"?p[0]:g[0];n=e[t+"1"];r=e[t+"2"]}if(n!=null&&r!=null&&n>r){var s=n;n=r;r=s}return{from:n,to:r,axis:i}}function G(){x.save();x.translate(v.left,v.top);x.fillStyle=ge(z.grid.backgroundColor,k,0,"rgba(255, 255, 255, 0)");x.fillRect(0,0,b,k);x.restore()}function _(){var e,t,i,n;x.save();x.translate(v.left,v.top);var r=z.grid.markings;if(r){if(me.isFunction(r)){t=y.getAxes();t.xmin=t.xaxis.min;t.xmax=t.xaxis.max;t.ymin=t.yaxis.min;t.ymax=t.yaxis.max;r=r(t)}for(e=0;e<r.length;++e){var o=r[e],a=X(o,"x"),l=X(o,"y");if(a.from==null)a.from=a.axis.min;if(a.to==null)a.to=a.axis.max;if(l.from==null)l.from=l.axis.min;if(l.to==null)l.to=l.axis.max;if(a.to<a.axis.min||a.from>a.axis.max||l.to<l.axis.min||l.from>l.axis.max)continue;a.from=Math.max(a.from,a.axis.min);a.to=Math.min(a.to,a.axis.max);l.from=Math.max(l.from,l.axis.min);l.to=Math.min(l.to,l.axis.max);if(a.from==a.to&&l.from==l.to)continue;a.from=a.axis.p2c(a.from);a.to=a.axis.p2c(a.to);l.from=l.axis.p2c(l.from);l.to=l.axis.p2c(l.to);if(a.from==a.to||l.from==l.to){x.beginPath();x.strokeStyle=o.color||z.grid.markingsColor;x.lineWidth=o.lineWidth||z.grid.markingsLineWidth;x.moveTo(a.from,l.from);x.lineTo(a.to,l.to);x.stroke()}else{x.fillStyle=o.color||z.grid.markingsColor;x.fillRect(a.from,l.to,a.to-a.from,l.from-l.to)}}}t=W();i=z.grid.borderWidth;for(var s=0;s<t.length;++s){var f=t[s],c=f.box,u=f.tickLength,h,d,p,g;if(!f.show||f.ticks.length==0)continue;x.lineWidth=1;if(f.direction=="x"){h=0;if(u=="full")d=f.position=="top"?0:k;else d=c.top-v.top+(f.position=="top"?c.height:0)}else{d=0;if(u=="full")h=f.position=="left"?0:b;else h=c.left-v.left+(f.position=="left"?c.width:0)}if(!f.innermost){x.strokeStyle=f.options.color;x.beginPath();p=g=0;if(f.direction=="x")p=b+1;else g=k+1;if(x.lineWidth==1){if(f.direction=="x"){d=Math.floor(d)+.5}else{h=Math.floor(h)+.5}}x.moveTo(h,d);x.lineTo(h+p,d+g);x.stroke()}x.strokeStyle=f.options.tickColor;x.beginPath();for(e=0;e<f.ticks.length;++e){var m=f.ticks[e].v;p=g=0;if(isNaN(m)||m<f.min||m>f.max||u=="full"&&(typeof i=="object"&&i[f.position]>0||i>0)&&(m==f.min||m==f.max))continue;if(f.direction=="x"){h=f.p2c(m);g=u=="full"?-k:u;if(f.position=="top")g=-g}else{d=f.p2c(m);p=u=="full"?-b:u;if(f.position=="left")p=-p}if(x.lineWidth==1){if(f.direction=="x")h=Math.floor(h)+.5;else d=Math.floor(d)+.5}x.moveTo(h,d);x.lineTo(h+p,d+g)}x.stroke()}if(i){n=z.grid.borderColor;if(typeof i=="object"||typeof n=="object"){if(typeof i!=="object"){i={top:i,right:i,bottom:i,left:i}}if(typeof n!=="object"){n={top:n,right:n,bottom:n,left:n}}if(i.top>0){x.strokeStyle=n.top;x.lineWidth=i.top;x.beginPath();x.moveTo(0-i.left,0-i.top/2);x.lineTo(b,0-i.top/2);x.stroke()}if(i.right>0){x.strokeStyle=n.right;x.lineWidth=i.right;x.beginPath();x.moveTo(b+i.right/2,0-i.top);x.lineTo(b+i.right/2,k);x.stroke()}if(i.bottom>0){x.strokeStyle=n.bottom;x.lineWidth=i.bottom;x.beginPath();x.moveTo(b+i.right,k+i.bottom/2);x.lineTo(0,k+i.bottom/2);x.stroke()}if(i.left>0){x.strokeStyle=n.left;x.lineWidth=i.left;x.beginPath();x.moveTo(0-i.left/2,k+i.bottom);x.lineTo(0-i.left/2,0);x.stroke()}}else{x.lineWidth=i;x.strokeStyle=z.grid.borderColor;x.strokeRect(-i/2,-i/2,b+i,k+i)}}x.restore()}function Q(){me.each(W(),function(e,t){var i=t.box,n=t.direction+"Axis "+t.direction+t.n+"Axis",r="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+n,o=t.options.font||"flot-tick-label tickLabel",a,l,s,f,c;d.removeText(r);if(!t.show||t.ticks.length==0)return;for(var u=0;u<t.ticks.length;++u){a=t.ticks[u];if(!a.label||a.v<t.min||a.v>t.max)continue;if(t.direction=="x"){f="center";l=v.left+t.p2c(a.v);if(t.position=="bottom"){s=i.top+i.padding}else{s=i.top+i.height-i.padding;c="bottom"}}else{c="middle";s=v.top+t.p2c(a.v);if(t.position=="left"){l=i.left+i.width-i.padding;f="right"}else{l=i.left+i.padding}}d.addText(r,l,s,a.label,o,null,null,f,c)}})}function J(e){if(e.lines.show)V(e);if(e.bars.show)K(e);if(e.points.show)U(e)}function V(e){function t(e,t,i,n,r){var o=e.points,a=e.pointsize,l=null,s=null;x.beginPath();for(var f=a;f<o.length;f+=a){var c=o[f-a],u=o[f-a+1],h=o[f],d=o[f+1];if(c==null||h==null)continue;if(u<=d&&u<r.min){if(d<r.min)continue;c=(r.min-u)/(d-u)*(h-c)+c;u=r.min}else if(d<=u&&d<r.min){if(u<r.min)continue;h=(r.min-u)/(d-u)*(h-c)+c;d=r.min}if(u>=d&&u>r.max){if(d>r.max)continue;c=(r.max-u)/(d-u)*(h-c)+c;u=r.max}else if(d>=u&&d>r.max){if(u>r.max)continue;h=(r.max-u)/(d-u)*(h-c)+c;d=r.max}if(c<=h&&c<n.min){if(h<n.min)continue;u=(n.min-c)/(h-c)*(d-u)+u;c=n.min}else if(h<=c&&h<n.min){if(c<n.min)continue;d=(n.min-c)/(h-c)*(d-u)+u;h=n.min}if(c>=h&&c>n.max){if(h>n.max)continue;u=(n.max-c)/(h-c)*(d-u)+u;c=n.max}else if(h>=c&&h>n.max){if(c>n.max)continue;d=(n.max-c)/(h-c)*(d-u)+u;h=n.max}if(c!=l||u!=s)x.moveTo(n.p2c(c)+t,r.p2c(u)+i);l=h;s=d;x.lineTo(n.p2c(h)+t,r.p2c(d)+i)}x.stroke()}function i(e,t,i){var n=e.points,r=e.pointsize,o=Math.min(Math.max(0,i.min),i.max),a=0,l,s=false,f=1,c=0,u=0;while(true){if(r>0&&a>n.length+r)break;a+=r;var h=n[a-r],d=n[a-r+f],p=n[a],g=n[a+f];if(s){if(r>0&&h!=null&&p==null){u=a;r=-r;f=2;continue}if(r<0&&a==c+r){x.fill();s=false;r=-r;f=1;a=c=u+r;continue}}if(h==null||p==null)continue;if(h<=p&&h<t.min){if(p<t.min)continue;d=(t.min-h)/(p-h)*(g-d)+d;h=t.min}else if(p<=h&&p<t.min){if(h<t.min)continue;g=(t.min-h)/(p-h)*(g-d)+d;p=t.min}if(h>=p&&h>t.max){if(p>t.max)continue;d=(t.max-h)/(p-h)*(g-d)+d;h=t.max}else if(p>=h&&p>t.max){if(h>t.max)continue;g=(t.max-h)/(p-h)*(g-d)+d;p=t.max}if(!s){x.beginPath();x.moveTo(t.p2c(h),i.p2c(o));s=true}if(d>=i.max&&g>=i.max){x.lineTo(t.p2c(h),i.p2c(i.max));x.lineTo(t.p2c(p),i.p2c(i.max));continue}else if(d<=i.min&&g<=i.min){x.lineTo(t.p2c(h),i.p2c(i.min));x.lineTo(t.p2c(p),i.p2c(i.min));continue}var m=h,v=p;if(d<=g&&d<i.min&&g>=i.min){h=(i.min-d)/(g-d)*(p-h)+h;d=i.min}else if(g<=d&&g<i.min&&d>=i.min){p=(i.min-d)/(g-d)*(p-h)+h;g=i.min}if(d>=g&&d>i.max&&g<=i.max){h=(i.max-d)/(g-d)*(p-h)+h;d=i.max}else if(g>=d&&g>i.max&&d<=i.max){p=(i.max-d)/(g-d)*(p-h)+h;g=i.max}if(h!=m){x.lineTo(t.p2c(m),i.p2c(d))}x.lineTo(t.p2c(h),i.p2c(d));x.lineTo(t.p2c(p),i.p2c(g));if(p!=v){x.lineTo(t.p2c(p),i.p2c(g));x.lineTo(t.p2c(v),i.p2c(g))}}}x.save();x.translate(v.left,v.top);x.lineJoin="round";var n=e.lines.lineWidth,r=e.shadowSize;if(n>0&&r>0){x.lineWidth=r;x.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(n/2+r/2),Math.cos(o)*(n/2+r/2),e.xaxis,e.yaxis);x.lineWidth=r/2;t(e.datapoints,Math.sin(o)*(n/2+r/4),Math.cos(o)*(n/2+r/4),e.xaxis,e.yaxis)}x.lineWidth=n;x.strokeStyle=e.color;var a=Z(e.lines,e.color,0,k);if(a){x.fillStyle=a;i(e.datapoints,e.xaxis,e.yaxis)}if(n>0)t(e.datapoints,0,0,e.xaxis,e.yaxis);x.restore()}function U(e){function t(e,t,i,n,r,o,a,l){var s=e.points,f=e.pointsize;for(var c=0;c<s.length;c+=f){var u=s[c],h=s[c+1];if(u==null||u<o.min||u>o.max||h<a.min||h>a.max)continue;x.beginPath();u=o.p2c(u);h=a.p2c(h)+n;if(l=="circle")x.arc(u,h,t,0,r?Math.PI:Math.PI*2,false);else l(x,u,h,t,r);x.closePath();if(i){x.fillStyle=i;x.fill()}x.stroke()}}x.save();x.translate(v.left,v.top);var i=e.points.lineWidth,n=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(i==0)i=1e-4;if(i>0&&n>0){var a=n/2;x.lineWidth=a;x.strokeStyle="rgba(0,0,0,0.1)";t(e.datapoints,r,null,a+a/2,true,e.xaxis,e.yaxis,o);x.strokeStyle="rgba(0,0,0,0.2)";t(e.datapoints,r,null,a/2,true,e.xaxis,e.yaxis,o)}x.lineWidth=i;x.strokeStyle=e.color;t(e.datapoints,r,Z(e.points,e.color),0,false,e.xaxis,e.yaxis,o);x.restore()}function $(e,t,i,n,r,o,a,l,s,f,c){var u,h,d,p,g,m,v,x,b;if(f){x=m=v=true;g=false;u=i;h=e;p=t+n;d=t+r;if(h<u){b=h;h=u;u=b;g=true;m=false}}else{g=m=v=true;x=false;u=e+n;h=e+r;d=i;p=t;if(p<d){b=p;p=d;d=b;x=true;v=false}}if(h<a.min||u>a.max||p<l.min||d>l.max)return;if(u<a.min){u=a.min;g=false}if(h>a.max){h=a.max;m=false}if(d<l.min){d=l.min;x=false}if(p>l.max){p=l.max;v=false}u=a.p2c(u);d=l.p2c(d);h=a.p2c(h);p=l.p2c(p);if(o){s.fillStyle=o(d,p);s.fillRect(u,p,h-u,d-p)}if(c>0&&(g||m||v||x)){s.beginPath();s.moveTo(u,d);if(g)s.lineTo(u,p);else s.moveTo(u,p);if(v)s.lineTo(h,p);else s.moveTo(h,p);if(m)s.lineTo(h,d);else s.moveTo(h,d);if(x)s.lineTo(u,d);else s.moveTo(u,d);s.stroke()}}function K(f){function e(e,t,i,n,r,o){var a=e.points,l=e.pointsize;for(var s=0;s<a.length;s+=l){if(a[s]==null)continue;$(a[s],a[s+1],a[s+2],t,i,n,r,o,x,f.bars.horizontal,f.bars.lineWidth)}}x.save();x.translate(v.left,v.top);x.lineWidth=f.bars.lineWidth;x.strokeStyle=f.color;var t;switch(f.bars.align){case"left":t=0;break;case"right":t=-f.bars.barWidth;break;default:t=-f.bars.barWidth/2}var i=f.bars.fill?function(e,t){return Z(f.bars,f.color,e,t)}:null;e(f.datapoints,t,t+f.bars.barWidth,i,f.xaxis,f.yaxis);x.restore()}function Z(e,t,i,n){var r=e.fill;if(!r)return null;if(e.fillColor)return ge(e.fillColor,i,n,t);var o=me.color.parse(t);o.a=typeof r=="number"?r:.4;o.normalize();return o.toString()}function ee(){if(z.legend.container!=null){me(z.legend.container).html("")}else{m.find(".legend").remove()}if(!z.legend.show){return}var e=[],t=[],i=false,n=z.legend.labelFormatter,r,o;for(var a=0;a<P.length;++a){r=P[a];if(r.label){o=n?n(r.label,r):r.label;if(o){t.push({label:o,color:r.color})}}}if(z.legend.sorted){if(me.isFunction(z.legend.sorted)){t.sort(z.legend.sorted)}else if(z.legend.sorted=="reverse"){t.reverse()}else{var l=z.legend.sorted!="descending";t.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=l?1:-1})}}for(var a=0;a<t.length;++a){var s=t[a];if(a%z.legend.noColumns==0){if(i)e.push("</tr>");e.push("<tr>");i=true}e.push('<td class="legendColorBox"><div style="border:1px solid '+z.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+s.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+s.label+"</td>")}if(i)e.push("</tr>");if(e.length==0)return;var f='<table style="font-size:smaller;color:'+z.grid.color+'">'+e.join("")+"</table>";if(z.legend.container!=null)me(z.legend.container).html(f);else{var c="",u=z.legend.position,h=z.legend.margin;if(h[0]==null)h=[h,h];if(u.charAt(0)=="n")c+="top:"+(h[1]+v.top)+"px;";else if(u.charAt(0)=="s")c+="bottom:"+(h[1]+v.bottom)+"px;";if(u.charAt(1)=="e")c+="right:"+(h[0]+v.right)+"px;";else if(u.charAt(1)=="w")c+="left:"+(h[0]+v.left)+"px;";var d=me('<div class="legend">'+f.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(m);if(z.legend.backgroundOpacity!=0){var p=z.legend.backgroundColor;if(p==null){p=z.grid.backgroundColor;if(p&&typeof p=="string")p=me.color.parse(p);else p=me.color.extract(d,"background-color");p.a=1;p=p.toString()}var g=d.children();me('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+c+"background-color:"+p+';"> </div>').prependTo(d).css("opacity",z.legend.backgroundOpacity)}}}var te=[],ie=null;function ne(e,t,i){var n=z.grid.mouseActiveRadius,r=n*n+1,o=null,a=false,l,s,f;for(l=P.length-1;l>=0;--l){if(!i(P[l]))continue;var c=P[l],u=c.xaxis,h=c.yaxis,d=c.datapoints.points,p=u.c2p(e),g=h.c2p(t),m=n/u.scale,v=n/h.scale;f=c.datapoints.pointsize;if(u.options.inverseTransform)m=Number.MAX_VALUE;if(h.options.inverseTransform)v=Number.MAX_VALUE;if(c.lines.show||c.points.show){for(s=0;s<d.length;s+=f){var x=d[s],b=d[s+1];if(x==null)continue;if(x-p>m||x-p<-m||b-g>v||b-g<-v)continue;var k=Math.abs(u.p2c(x)-e),y=Math.abs(h.p2c(b)-t),w=k*k+y*y;if(w<r){r=w;o=[l,s/f]}}}if(c.bars.show&&!o){var M,T;switch(c.bars.align){case"left":M=0;break;case"right":M=-c.bars.barWidth;break;default:M=-c.bars.barWidth/2}T=M+c.bars.barWidth;for(s=0;s<d.length;s+=f){var x=d[s],b=d[s+1],S=d[s+2];if(x==null)continue;if(P[l].bars.horizontal?p<=Math.max(S,x)&&p>=Math.min(S,x)&&g>=b+M&&g<=b+T:p>=x+M&&p<=x+T&&g>=Math.min(S,b)&&g<=Math.max(S,b))o=[l,s/f]}}}if(o){l=o[0];s=o[1];f=P[l].datapoints.pointsize;return{datapoint:P[l].datapoints.points.slice(s*f,(s+1)*f),dataIndex:s,series:P[l],seriesIndex:l}}return null}function re(e){if(z.grid.hoverable)le("plothover",e,function(e){return e["hoverable"]!=false})}function oe(e){if(z.grid.hoverable)le("plothover",e,function(e){return false})}function ae(e){le("plotclick",e,function(e){return e["clickable"]!=false})}function le(e,t,i){var n=c.offset(),r=t.pageX-n.left-v.left,o=t.pageY-n.top-v.top,a=u({left:r,top:o});a.pageX=t.pageX;a.pageY=t.pageY;var l=ne(r,o,i);if(l){l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+n.left+v.left,10);l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+n.top+v.top,10)}if(z.grid.autoHighlight){for(var s=0;s<te.length;++s){var f=te[s];if(f.auto==e&&!(l&&f.series==l.series&&f.point[0]==l.datapoint[0]&&f.point[1]==l.datapoint[1]))ue(f.series,f.point)}if(l)ce(l.series,l.datapoint,e)}m.trigger(e,[a,l])}function se(){var e=z.interaction.redrawOverlayInterval;if(e==-1){fe();return}if(!ie)ie=setTimeout(fe,e)}function fe(){ie=null;f.save();i.clear();f.translate(v.left,v.top);var e,t;for(e=0;e<te.length;++e){t=te[e];if(t.series.bars.show)pe(t.series,t.point);else de(t.series,t.point)}f.restore();I(A.drawOverlay,[f])}function ce(e,t,i){if(typeof e=="number")e=P[e];if(typeof t=="number"){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var r=he(e,t);if(r==-1){te.push({series:e,point:t,auto:i});se()}else if(!i)te[r].auto=false}function ue(e,t){if(e==null&&t==null){te=[];se();return}if(typeof e=="number")e=P[e];if(typeof t=="number"){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=he(e,t);if(n!=-1){te.splice(n,1);se()}}function he(e,t){for(var i=0;i<te.length;++i){var n=te[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function de(e,t){var i=t[0],n=t[1],r=e.xaxis,o=e.yaxis,a=typeof e.highlightColor==="string"?e.highlightColor:me.color.parse(e.color).scale("a",.5).toString();if(i<r.min||i>r.max||n<o.min||n>o.max)return;var l=e.points.radius+e.points.lineWidth/2;f.lineWidth=l;f.strokeStyle=a;var s=1.5*l;i=r.p2c(i);n=o.p2c(n);f.beginPath();if(e.points.symbol=="circle")f.arc(i,n,s,0,2*Math.PI,false);else e.points.symbol(f,i,n,s,false);f.closePath();f.stroke()}function pe(e,t){var i=typeof e.highlightColor==="string"?e.highlightColor:me.color.parse(e.color).scale("a",.5).toString(),n=i,r;switch(e.bars.align){case"left":r=0;break;case"right":r=-e.bars.barWidth;break;default:r=-e.bars.barWidth/2}f.lineWidth=e.bars.lineWidth;f.strokeStyle=i;$(t[0],t[1],t[2]||0,r,r+e.bars.barWidth,function(){return n},e.xaxis,e.yaxis,f,e.bars.horizontal,e.bars.lineWidth)}function ge(e,t,i,n){if(typeof e=="string")return e;else{var r=x.createLinearGradient(0,i,0,t);for(var o=0,a=e.colors.length;o<a;++o){var l=e.colors[o];if(typeof l!="string"){var s=me.color.parse(n);if(l.brightness!=null)s=s.scale("rgb",l.brightness);if(l.opacity!=null)s.a*=l.opacity;l=s.toString()}r.addColorStop(o/(a-1),l)}return r}}}me.plot=function(e,t,i){var n=new r(me(e),t,i,me.plot.plugins);return n};me.plot.version="0.8.2";me.plot.plugins=[];me.fn.plot=function(e,t){return this.each(function(){me.plot(this,e,t)})};function xe(e,t){return t*Math.floor(e/t)}})(jQuery);(function(i){var e={xaxis:{timezone:null,timeformat:null,twelveHourClock:false,monthNames:null}};function x(e,t){return t*Math.floor(e/t)}function c(e,t,i,n){if(typeof e.strftime=="function"){return e.strftime(t)}var r=function(e,t){e=""+e;t=""+(t==null?"0":t);return e.length==1?t+e:e};var o=[];var a=false;var l=e.getHours();var s=l<12;if(i==null){i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(n==null){n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}var f;if(l>12){f=l-12}else if(l==0){f=12}else{f=l}for(var c=0;c<t.length;++c){var u=t.charAt(c);if(a){switch(u){case"a":u=""+n[e.getDay()];break;case"b":u=""+i[e.getMonth()];break;case"d":u=r(e.getDate());break;case"e":u=r(e.getDate()," ");break;case"h":case"H":u=r(l);break;case"I":u=r(f);break;case"l":u=r(f," ");break;case"m":u=r(e.getMonth()+1);break;case"M":u=r(e.getMinutes());break;case"q":u=""+(Math.floor(e.getMonth()/3)+1);break;case"S":u=r(e.getSeconds());break;case"y":u=r(e.getFullYear()%100);break;case"Y":u=""+e.getFullYear();break;case"p":u=s?""+"am":""+"pm";break;case"P":u=s?""+"AM":""+"PM";break;case"w":u=""+e.getDay();break}o.push(u);a=false}else{if(u=="%"){a=true}else{o.push(u)}}}return o.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};if(e.strftime!=undefined){t(i,"strftime",e,"strftime")}t(i,"getTime",e,"getTime");t(i,"setTime",e,"setTime");var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(var r=0;r<n.length;r++){t(i,"get"+n[r],e,"getUTC"+n[r]);t(i,"set"+n[r],e,"setUTC"+n[r])}return i}function b(e,t){if(t.timezone=="browser"){return new Date(e)}else if(!t.timezone||t.timezone=="utc"){return n(new Date(e))}else if(typeof timezoneJS!="undefined"&&typeof timezoneJS.Date!="undefined"){var i=new timezoneJS.Date;i.setTimezone(t.timezone);i.setTime(e);return i}else{return n(new Date(e))}}var k={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3};var t=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]];var y=t.concat([[3,"month"],[6,"month"],[1,"year"]]);var w=t.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function r(e){e.hooks.processOptions.push(function(e,t){i.each(e.getAxes(),function(e,t){var v=t.options;if(v.mode=="time"){t.tickGenerator=function(e){var t=[];var i=b(e.min,v);var n=0;var r=v.tickSize&&v.tickSize[1]==="quarter"||v.minTickSize&&v.minTickSize[1]==="quarter"?w:y;if(v.minTickSize!=null){if(typeof v.tickSize=="number"){n=v.tickSize}else{n=v.minTickSize[0]*k[v.minTickSize[1]]}}for(var o=0;o<r.length-1;++o){if(e.delta<(r[o][0]*k[r[o][1]]+r[o+1][0]*k[r[o+1][1]])/2&&r[o][0]*k[r[o][1]]>=n){break}}var a=r[o][0];var l=r[o][1];if(l=="year"){if(v.minTickSize!=null&&v.minTickSize[1]=="year"){a=Math.floor(v.minTickSize[0])}else{var s=Math.pow(10,Math.floor(Math.log(e.delta/k.year)/Math.LN10));var f=e.delta/k.year/s;if(f<1.5){a=1}else if(f<3){a=2}else if(f<7.5){a=5}else{a=10}a*=s}if(a<1){a=1}}e.tickSize=v.tickSize||[a,l];var c=e.tickSize[0];l=e.tickSize[1];var u=c*k[l];if(l=="second"){i.setSeconds(x(i.getSeconds(),c))}else if(l=="minute"){i.setMinutes(x(i.getMinutes(),c))}else if(l=="hour"){i.setHours(x(i.getHours(),c))}else if(l=="month"){i.setMonth(x(i.getMonth(),c))}else if(l=="quarter"){i.setMonth(3*x(i.getMonth()/3,c))}else if(l=="year"){i.setFullYear(x(i.getFullYear(),c))}i.setMilliseconds(0);if(u>=k.minute){i.setSeconds(0)}if(u>=k.hour){i.setMinutes(0)}if(u>=k.day){i.setHours(0)}if(u>=k.day*4){i.setDate(1)}if(u>=k.month*2){i.setMonth(x(i.getMonth(),3))}if(u>=k.quarter*2){i.setMonth(x(i.getMonth(),6))}if(u>=k.year){i.setMonth(0)}var h=0;var d=Number.NaN;var p;do{p=d;d=i.getTime();t.push(d);if(l=="month"||l=="quarter"){if(c<1){i.setDate(1);var g=i.getTime();i.setMonth(i.getMonth()+(l=="quarter"?3:1));var m=i.getTime();i.setTime(d+h*k.hour+(m-g)*c);h=i.getHours();i.setHours(0)}else{i.setMonth(i.getMonth()+c*(l=="quarter"?3:1))}}else if(l=="year"){i.setFullYear(i.getFullYear()+c)}else{i.setTime(d+u)}}while(d<e.max&&d!=p);return t};t.tickFormatter=function(e,t){var i=b(e,t.options);if(v.timeformat!=null){return c(i,v.timeformat,v.monthNames,v.dayNames)}var n=t.options.tickSize&&t.options.tickSize[1]=="quarter"||t.options.minTickSize&&t.options.minTickSize[1]=="quarter";var r=t.tickSize[0]*k[t.tickSize[1]];var o=t.max-t.min;var a=v.twelveHourClock?" %p":"";var l=v.twelveHourClock?"%I":"%H";var s;if(r<k.minute){s=l+":%M:%S"+a}else if(r<k.day){if(o<2*k.day){s=l+":%M"+a}else{s="%b %d "+l+":%M"+a}}else if(r<k.month){s="%b %d"}else if(n&&r<k.quarter||!n&&r<k.year){if(o<k.year){s="%b"}else{s="%b %Y"}}else if(n&&r<k.year){if(o<k.year){s="Q%q"}else{s="Q%q %Y"}}else{s="%Y"}var f=c(i,s,v.monthNames,v.dayNames);return f}}})})}i.plot.plugins.push({init:r,options:e,name:"time",version:"1.0"});i.plot.formatDate=c})(jQuery);(function(e){var t={series:{stack:null}};function i(e){function z(e,t){var i=null;for(var n=0;n<t.length;++n){if(e==t[n])break;if(t[n].stack==e.stack)i=t[n]}return i}function t(e,t,i){if(t.stack==null||t.stack===false)return;var n=z(t,e.getData());if(!n)return;var r=i.pointsize,o=i.points,a=n.datapoints.pointsize,l=n.datapoints.points,s=[],f,c,u,h,d,p,g=t.lines.show,m=t.bars.horizontal,v=r>2&&(m?i.format[2].x:i.format[2].y),x=g&&t.lines.steps,b=true,k=m?1:0,y=m?0:1,w=0,M=0,T,S;while(true){if(w>=o.length)break;T=s.length;if(o[w]==null){for(S=0;S<r;++S)s.push(o[w+S]);w+=r}else if(M>=l.length){if(!g){for(S=0;S<r;++S)s.push(o[w+S])}w+=r}else if(l[M]==null){for(S=0;S<r;++S)s.push(null);b=true;M+=a}else{f=o[w+k];c=o[w+y];h=l[M+k];d=l[M+y];p=0;if(f==h){for(S=0;S<r;++S)s.push(o[w+S]);s[T+y]+=d;p=d;w+=r;M+=a}else if(f>h){if(g&&w>0&&o[w-r]!=null){u=c+(o[w-r+y]-c)*(h-f)/(o[w-r+k]-f);s.push(h);s.push(u+d);for(S=2;S<r;++S)s.push(o[w+S]);p=d}M+=a}else{if(b&&g){w+=r;continue}for(S=0;S<r;++S)s.push(o[w+S]);if(g&&M>0&&l[M-a]!=null)p=d+(l[M-a+y]-d)*(f-h)/(l[M-a+k]-h);s[T+y]+=p;w+=r}b=false;if(T!=s.length&&v)s[T+2]+=p}if(x&&T!=s.length&&T>0&&s[T]!=null&&s[T]!=s[T-r]&&s[T+1]!=s[T-r+1]){for(S=0;S<r;++S)s[T+r+S]=s[T+S];s[T+1]=s[T-r+1]}}i.points=s}e.hooks.processDatapoints.push(t)}e.plot.plugins.push({init:i,options:t,name:"stack",version:"1.2"})})(jQuery);(function(e){function t(e,t,i){var n={square:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2;e.rect(t-o,i-o,o+o,o+o)},diamond:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI/2);e.moveTo(t-o,i);e.lineTo(t,i-o);e.lineTo(t+o,i);e.lineTo(t,i+o);e.lineTo(t-o,i)},triangle:function(e,t,i,n,r){var o=n*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3));var a=o*Math.sin(Math.PI/3);e.moveTo(t-o/2,i+a/2);e.lineTo(t+o/2,i+a/2);if(!r){e.lineTo(t,i-a/2);e.lineTo(t-o/2,i+a/2)}},cross:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2;e.moveTo(t-o,i-o);e.lineTo(t+o,i+o);e.moveTo(t-o,i+o);e.lineTo(t+o,i-o)}};var r=t.points.symbol;if(n[r])t.points.symbol=n[r]}function i(e){e.hooks.processDatapoints.push(t)}e.plot.plugins.push({init:i,name:"symbols",version:"1.0"})})(jQuery);(function(k){var C=10;var P=.95;function e(y){var n=null,x=null,b=null,w=null,M=null,T=null,s=false,S=null;var f=[];y.hooks.processOptions.push(function(e,t){if(t.series.pie.show){t.grid.show=false;if(t.series.pie.label.show=="auto"){if(t.legend.show){t.series.pie.label.show=false}else{t.series.pie.label.show=true}}if(t.series.pie.radius=="auto"){if(t.series.pie.label.show){t.series.pie.radius=3/4}else{t.series.pie.radius=1}}if(t.series.pie.tilt>1){t.series.pie.tilt=1}else if(t.series.pie.tilt<0){t.series.pie.tilt=0}}});y.hooks.bindEvents.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){if(i.grid.hoverable){t.unbind("mousemove").mousemove(l)}if(i.grid.clickable){t.unbind("click").click(h)}}});y.hooks.processDatapoints.push(function(e,t,i,n){var r=e.getOptions();if(r.series.pie.show){o(e,t,i,n)}});y.hooks.drawOverlay.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){m(e,t)}});y.hooks.draw.push(function(e,t){var i=e.getOptions();if(i.series.pie.show){a(e,t)}});function o(e,t,i){if(!s){s=true;n=e.getCanvas();x=k(n).parent();b=e.getOptions();e.setData(r(e.getData()))}}function r(e){var t=0,i=0,n=0,r=b.series.pie.combine.color,o=[];for(var a=0;a<e.length;++a){var l=e[a].data;if(k.isArray(l)&&l.length==1){l=l[0]}if(k.isArray(l)){if(!isNaN(parseFloat(l[1]))&&isFinite(l[1])){l[1]=+l[1]}else{l[1]=0}}else if(!isNaN(parseFloat(l))&&isFinite(l)){l=[1,+l]}else{l=[1,0]}e[a].data=[l]}for(var a=0;a<e.length;++a){t+=e[a].data[0][1]}for(var a=0;a<e.length;++a){var l=e[a].data[0][1];if(l/t<=b.series.pie.combine.threshold){i+=l;n++;if(!r){r=e[a].color}}}for(var a=0;a<e.length;++a){var l=e[a].data[0][1];if(n<2||l/t>b.series.pie.combine.threshold){o.push({data:[[1,l]],color:e[a].color,label:e[a].label,angle:l*Math.PI*2/t,percent:l/(t/100)})}}if(n>1){o.push({data:[[1,i]],color:r,label:b.series.pie.combine.label,angle:i*Math.PI*2/t,percent:i/(t/100)})}return o}function a(e,t){if(!x){return}var m=e.getPlaceholder().width(),v=e.getPlaceholder().height(),i=x.children().filter(".legend").children().width()||0;S=t;s=false;w=Math.min(m,v/b.series.pie.tilt)/2;T=v/2+b.series.pie.offset.top;M=m/2;if(b.series.pie.offset.left=="auto"){if(b.legend.position.match("w")){M+=i/2}else{M-=i/2}if(M<w){M=w}else if(M>m-w){M=m-w}}else{M+=b.series.pie.offset.left}var a=e.getData(),n=0;do{if(n>0){w*=P}n+=1;r();if(b.series.pie.tilt<=.8){o()}}while(!l()&&n<C);if(n>=C){r();x.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(e.setSeries&&e.insertLegend){e.setSeries(a);e.insertLegend()}function r(){S.clearRect(0,0,m,v);x.children().filter(".pieLabel, .pieLabelBackground").remove()}function o(){var e=b.series.pie.shadow.left;var t=b.series.pie.shadow.top;var i=10;var n=b.series.pie.shadow.alpha;var r=b.series.pie.radius>1?b.series.pie.radius:w*b.series.pie.radius;if(r>=m/2-e||r*b.series.pie.tilt>=v/2-t||r<=i){return}S.save();S.translate(e,t);S.globalAlpha=n;S.fillStyle="#000";S.translate(M,T);S.scale(1,b.series.pie.tilt);for(var o=1;o<=i;o++){S.beginPath();S.arc(0,0,r,0,Math.PI*2,false);S.fill();r-=o}S.restore()}function l(){var n=Math.PI*b.series.pie.startAngle;var r=b.series.pie.radius>1?b.series.pie.radius:w*b.series.pie.radius;S.save();S.translate(M,T);S.scale(1,b.series.pie.tilt);S.save();var o=n;for(var e=0;e<a.length;++e){a[e].startAngle=o;t(a[e].angle,a[e].color,true)}S.restore();if(b.series.pie.stroke.width>0){S.save();S.lineWidth=b.series.pie.stroke.width;o=n;for(var e=0;e<a.length;++e){t(a[e].angle,b.series.pie.stroke.color,false)}S.restore()}c(S);S.restore();if(b.series.pie.label.show){return i()}else return true;function t(e,t,i){if(e<=0||isNaN(e)){return}if(i){S.fillStyle=t}else{S.strokeStyle=t;S.lineJoin="round"}S.beginPath();if(Math.abs(e-Math.PI*2)>1e-9){S.moveTo(0,0)}S.arc(0,0,r,o,o+e/2,false);S.arc(0,0,r,o+e/2,o+e,false);S.closePath();o+=e;if(i){S.fill()}else{S.stroke()}}function i(){var e=n;var g=b.series.pie.label.radius>1?b.series.pie.label.radius:w*b.series.pie.label.radius;for(var t=0;t<a.length;++t){if(a[t].percent>=b.series.pie.label.threshold*100){if(!i(a[t],e,t)){return false}}e+=a[t].angle}return true;function i(e,t,i){if(e.data[0][1]==0){return true}var n=b.legend.labelFormatter,r,o=b.series.pie.label.formatter;if(n){r=n(e.label,e)}else{r=e.label}if(o){r=o(r,e)}var a=(t+e.angle+t)/2;var l=M+Math.round(Math.cos(a)*g);var s=T+Math.round(Math.sin(a)*g)*b.series.pie.tilt;var f="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+s+"px;left:"+l+"px;'>"+r+"</span>";x.append(f);var c=x.children("#pieLabel"+i);var u=s-c.height()/2;var h=l-c.width()/2;c.css("top",u);c.css("left",h);if(0-u>0||0-h>0||v-(u+c.height())<0||m-(h+c.width())<0){return false}if(b.series.pie.label.background.opacity!=0){var d=b.series.pie.label.background.color;if(d==null){d=e.color}var p="top:"+u+"px;left:"+h+"px;";k("<div class='pieLabelBackground' style='position:absolute;width:"+c.width()+"px;height:"+c.height()+"px;"+p+"background-color:"+d+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(c)}return true}}}}function c(e){if(b.series.pie.innerRadius>0){e.save();var t=b.series.pie.innerRadius>1?b.series.pie.innerRadius:w*b.series.pie.innerRadius;e.globalCompositeOperation="destination-out";e.beginPath();e.fillStyle=b.series.pie.stroke.color;e.arc(0,0,t,0,Math.PI*2,false);e.fill();e.closePath();e.restore();e.save();e.beginPath();e.strokeStyle=b.series.pie.stroke.color;e.arc(0,0,t,0,Math.PI*2,false);e.stroke();e.closePath();e.restore()}}function z(e,t){for(var i=false,n=-1,r=e.length,o=r-1;++n<r;o=n)(e[n][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[n][1])&&t[0]<(e[o][0]-e[n][0])*(t[1]-e[n][1])/(e[o][1]-e[n][1])+e[n][0]&&(i=!i);return i}function u(e,t){var i=y.getData(),n=y.getOptions(),r=n.series.pie.radius>1?n.series.pie.radius:w*n.series.pie.radius,o,a;for(var l=0;l<i.length;++l){var s=i[l];if(s.pie.show){S.save();S.beginPath();S.moveTo(0,0);S.arc(0,0,r,s.startAngle,s.startAngle+s.angle/2,false);S.arc(0,0,r,s.startAngle+s.angle/2,s.startAngle+s.angle,false);S.closePath();o=e-M;a=t-T;if(S.isPointInPath){if(S.isPointInPath(e-M,t-T)){S.restore();return{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:l}}}else{var f=r*Math.cos(s.startAngle),c=r*Math.sin(s.startAngle),u=r*Math.cos(s.startAngle+s.angle/4),h=r*Math.sin(s.startAngle+s.angle/4),d=r*Math.cos(s.startAngle+s.angle/2),p=r*Math.sin(s.startAngle+s.angle/2),g=r*Math.cos(s.startAngle+s.angle/1.5),m=r*Math.sin(s.startAngle+s.angle/1.5),v=r*Math.cos(s.startAngle+s.angle),x=r*Math.sin(s.startAngle+s.angle),b=[[0,0],[f,c],[u,h],[d,p],[g,m],[v,x]],k=[o,a];if(z(b,k)){S.restore();return{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:l}}}S.restore()}}return null}function l(e){t("plothover",e)}function h(e){t("plotclick",e)}function t(e,t){var i=y.offset();var n=parseInt(t.pageX-i.left);var r=parseInt(t.pageY-i.top);var o=u(n,r);if(b.grid.autoHighlight){for(var a=0;a<f.length;++a){var l=f[a];if(l.auto==e&&!(o&&l.series==o.series)){p(l.series)}}}if(o){d(o.series,e)}var s={pageX:t.pageX,pageY:t.pageY};x.trigger(e,[s,o])}function d(e,t){var i=g(e);if(i==-1){f.push({series:e,auto:t});y.triggerRedrawOverlay()}else if(!t){f[i].auto=false}}function p(e){if(e==null){f=[];y.triggerRedrawOverlay()}var t=g(e);if(t!=-1){f.splice(t,1);y.triggerRedrawOverlay()}}function g(e){for(var t=0;t<f.length;++t){var i=f[t];if(i.series==e)return t}return-1}function m(e,t){var i=e.getOptions();var n=i.series.pie.radius>1?i.series.pie.radius:w*i.series.pie.radius;t.save();t.translate(M,T);t.scale(1,i.series.pie.tilt);for(var r=0;r<f.length;++r){o(f[r].series)}c(t);t.restore();function o(e){if(e.angle<=0||isNaN(e.angle)){return}t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")";t.beginPath();if(Math.abs(e.angle-Math.PI*2)>1e-9){t.moveTo(0,0)}t.arc(0,0,n,e.startAngle,e.startAngle+e.angle/2,false);t.arc(0,0,n,e.startAngle+e.angle/2,e.startAngle+e.angle,false);t.closePath();t.fill()}}}var t={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(e,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};k.plot.plugins.push({init:e,options:t,name:"pie",version:"1.1"})})(jQuery);(function(m){function e(f){var c={first:{x:-1,y:-1},second:{x:-1,y:-1},show:false,active:false};var t={};var i=null;function n(e){if(c.active){h(e);f.getPlaceholder().trigger("plotselecting",[a()])}}function r(e){if(e.which!=1)return;document.body.focus();if(document.onselectstart!==undefined&&t.onselectstart==null){t.onselectstart=document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!==undefined&&t.ondrag==null){t.ondrag=document.ondrag;document.ondrag=function(){return false}}u(c.first,e);c.active=true;i=function(e){o(e)};m(document).one("mouseup",i)}function o(e){i=null;if(document.onselectstart!==undefined)document.onselectstart=t.onselectstart;if(document.ondrag!==undefined)document.ondrag=t.ondrag;c.active=false;h(e);if(g())l();else{f.getPlaceholder().trigger("plotunselected",[]);f.getPlaceholder().trigger("plotselecting",[null])}return false}function a(){if(!g())return null;if(!c.show)return null;var r={},o=c.first,a=c.second;m.each(f.getAxes(),function(e,t){if(t.used){var i=t.c2p(o[t.direction]),n=t.c2p(a[t.direction]);r[e]={from:Math.min(i,n),to:Math.max(i,n)}}});return r}function l(){var e=a();f.getPlaceholder().trigger("plotselected",[e]);if(e.xaxis&&e.yaxis)f.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function s(e,t,i){return t<e?e:t>i?i:t}function u(e,t){var i=f.getOptions();var n=f.getPlaceholder().offset();var r=f.getPlotOffset();e.x=s(0,t.pageX-n.left-r.left,f.width());e.y=s(0,t.pageY-n.top-r.top,f.height());if(i.selection.mode=="y")e.x=e==c.first?0:f.width();if(i.selection.mode=="x")e.y=e==c.first?0:f.height()}function h(e){if(e.pageX==null)return;u(c.second,e);if(g()){c.show=true;f.triggerRedrawOverlay()}else d(true)}function d(e){if(c.show){c.show=false;f.triggerRedrawOverlay();if(!e)f.getPlaceholder().trigger("plotunselected",[])}}function p(e,t){var i,n,r,o,a=f.getAxes();for(var l in a){i=a[l];if(i.direction==t){o=t+i.n+"axis";if(!e[o]&&i.n==1)o=t+"axis";if(e[o]){n=e[o].from;r=e[o].to;break}}}if(!e[o]){i=t=="x"?f.getXAxes()[0]:f.getYAxes()[0];n=e[t+"1"];r=e[t+"2"]}if(n!=null&&r!=null&&n>r){var s=n;n=r;r=s}return{from:n,to:r,axis:i}}function e(e,t){var i,n,r=f.getOptions();if(r.selection.mode=="y"){c.first.x=0;c.second.x=f.width()}else{n=p(e,"x");c.first.x=n.axis.p2c(n.from);c.second.x=n.axis.p2c(n.to)}if(r.selection.mode=="x"){c.first.y=0;c.second.y=f.height()}else{n=p(e,"y");c.first.y=n.axis.p2c(n.from);c.second.y=n.axis.p2c(n.to)}c.show=true;f.triggerRedrawOverlay();if(!t&&g())l()}function g(){var e=f.getOptions().selection.minSize;return Math.abs(c.second.x-c.first.x)>=e&&Math.abs(c.second.y-c.first.y)>=e}f.clearSelection=d;f.setSelection=e;f.getSelection=a;f.hooks.bindEvents.push(function(e,t){var i=e.getOptions();if(i.selection.mode!=null){t.mousemove(n);t.mousedown(r)}});f.hooks.drawOverlay.push(function(e,t){if(c.show&&g()){var i=e.getPlotOffset();var n=e.getOptions();t.save();t.translate(i.left,i.top);var r=m.color.parse(n.selection.color);t.strokeStyle=r.scale("a",.8).toString();t.lineWidth=1;t.lineJoin=n.selection.shape;t.fillStyle=r.scale("a",.4).toString();var o=Math.min(c.first.x,c.second.x)+.5,a=Math.min(c.first.y,c.second.y)+.5,l=Math.abs(c.second.x-c.first.x)-1,s=Math.abs(c.second.y-c.first.y)-1;t.fillRect(o,a,l,s);t.strokeRect(o,a,l,s);t.restore()}});f.hooks.shutdown.push(function(e,t){t.unbind("mousemove",n);t.unbind("mousedown",r);if(i)m(document).unbind("mouseup",i)})}m.plot.plugins.push({init:e,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})})(jQuery);