(function(t){var e=[];var s={init:function(s){return this.each((function(){var n=this;var i=t(n).data("cbtimeago");if(i){return}i={};i.options=typeof s!="undefined"?s:{};i.defaults=t.fn.cbtimeago.defaults;i.settings=t.extend(true,{},i.defaults,i.options);i.element=t(n);i.datetime=i.element.data("cbtimeago-datetime");if(!i.datetime){i.datetime=i.element.attr("title");if(!i.datetime){i.datetime=i.element.text()}}if(i.settings.useData){t.each(t.fn.cbtimeago.dataMap,(function(t,e){const s=i.element.data(e);if(typeof s!="undefined"){i.settings[t]=s}}))}i.element.triggerHandler("cbtimeago.init.before",[i]);if(!i.settings.init){return}if(i.settings.hideAgo){i.settings.strings.future="%s";i.settings.strings.past="%s"}var o=null;if(typeof moment!="undefined"){o=moment.locale();if(i.settings.short){moment.locale(Math.random(),{relativeTime:{future:i.settings.strings.short.future,past:i.settings.strings.short.past,s:i.settings.strings.short.second,ss:i.settings.strings.short.seconds,m:i.settings.strings.short.minute,mm:i.settings.strings.short.minutes,h:i.settings.strings.short.hour,hh:i.settings.strings.short.hours,d:i.settings.strings.short.day,dd:i.settings.strings.short.days,w:i.settings.strings.short.week,ww:i.settings.strings.short.weeks,M:i.settings.strings.short.month,MM:i.settings.strings.short.months,y:i.settings.strings.short.year,yy:i.settings.strings.short.years}})}else{moment.locale(Math.random(),{relativeTime:{future:i.settings.strings.long.future,past:i.settings.strings.long.past,s:i.settings.strings.long.second,ss:i.settings.strings.long.seconds,m:i.settings.strings.long.minute,mm:i.settings.strings.long.minutes,h:i.settings.strings.long.hour,hh:i.settings.strings.long.hours,d:i.settings.strings.long.day,dd:i.settings.strings.long.days,w:i.settings.strings.long.week,ww:i.settings.strings.long.weeks,M:i.settings.strings.long.month,MM:i.settings.strings.long.months,y:i.settings.strings.long.year,yy:i.settings.strings.long.years}})}}i.livestamp=i.element.livestamp(i.datetime);if(o){moment.locale(o)}i.element.on("remove.cbtimeago destroy.cbtimeago",(function(){i.element.cbtimeago("destroy")}));i.element.on("rebind.cbtimeago",(function(){i.element.cbtimeago("rebind")}));i.element.on("modified.cbtimeago",(function(t,e,s,n){if(e!=s){i.element.cbtimeago("rebind")}}));i.element.on("cloned.cbtimeago",(function(){t(this).off(".cbtimeago");t(this).removeData("cbtimeago");t(this).removeData("livestampdata");t(this).text("");if(!t(this).data("cbtimeago-datetime")&&!t(this).attr("title")){t(this).text(i.datetime)}t(this).cbtimeago(i.options)}));i.element.triggerHandler("cbtimeago.init.after",[i]);i.element.data("cbtimeago",i);e.push(i)}))},rebind:function(){var e=t(this).data("cbtimeago");if(!e){return this}e.element.cbtimeago("destroy");e.element.cbtimeago(e.options);return this},destroy:function(){var s=t(this).data("cbtimeago");if(!s){return this}s.element.livestamp("destroy");s.element.off(".cbtimeago");t.each(e,(function(t,n){if(n.element==s.element){e.splice(t,1);return false}return true}));s.element.text("");if(!s.element.data("cbtimeago-datetime")&&!s.element.attr("title")){s.element.text(s.datetime)}s.element.removeData("cbtimeago");s.element.triggerHandler("cbtimeago.destroyed",[s]);return this},instances:function(){return e}};t.fn.cbtimeago=function(t){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return s.init.apply(this,arguments)}return this};t.fn.cbtimeago.dataMap={hideAgo:"cbtimeago-hideago",short:"cbtimeago-short"};t.fn.cbtimeago.defaults={init:true,useData:true,hideAgo:false,short:false,strings:{long:{future:"in %s",past:"%s ago",second:"less than a minute",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",week:"a week",weeks:"%d weeks",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},short:{future:"%s",past:"%s",second:"now",seconds:"%ds",minute:"1m",minutes:"%dm",hour:"1h",hours:"%dh",day:"1d",days:"%dd",week:"1w",weeks:"%dw",month:"1mo",months:"%dmo",year:"1y",years:"%dy"}}}})(jQuery);